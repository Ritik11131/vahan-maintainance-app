<section class="landing-hero px-8 lg:px-20">
    <div class="grid gap-6 justify-items-center">
        <div
            class="grid bg-surface-0 border border-black/10 dark:border-white/20 dark:bg-surface-950 w-full h-[85vh] max-h-[1040px] 
            rounded-3xl p-6 lg:mt-20 gap-6 grid-cols-1 lg:grid-cols-[auto_1fr] overflow-hidden">
            <!-- Sidebar Section -->
            <div [ngClass]="{
                    'w-auto': isSlimMenu,
                    'w-72': !isSlimMenu
                }" 
                class="rounded-2xl p-5 bg-surface-50 dark:bg-surface-900 h-full flex flex-col justify-between">
                <!-- Sidebar Header -->
                <div [ngClass]="{
                        'w-12 flex flex-col items-center': isSlimMenu,
                        'w-auto': !isSlimMenu
                    }">
                    <div class="flex items-center gap-3">
                        <div
                            class="w-14 h-14 border border-primary rounded-xl flex items-center justify-center bg-white shadow-md hover:shadow-lg transition-shadow duration-200">
                            <img src="maintenance_logo.png" alt="Maintenance Logo"
                                class="w-9 h-9 object-contain animate-spin" />
                        </div>
                        <div [ngClass]="{
                                hidden: isSlimMenu,
                                block: !isSlimMenu
                            }" 
                            class="text-surface-950 dark:text-surface-0 font-medium text-3xl">
                            VAHAN
                        </div>
                    </div>
                    <!-- Navigation Items -->
                    <div class="mt-10 flex flex-col gap-2">
                        <div *ngFor="let navItem of sampleAppsSidebarNavs"
                            [pTooltip]="isSlimMenu ? navItem.title : null"
                            (click)="setSelectedSampleAppsSidebarNav(navItem.title,navItem.href)"
                            class="px-4 py-1 flex items-center gap-1 cursor-pointer text-base rounded-lg transition-all select-none"
                            [ngClass]="{
                                'w-12 justify-center py-4': isSlimMenu,
                                'w-full': !isSlimMenu,
                                'text-muted-color hover:bg-emphasis bg-transparent': selectedSampleAppsSidebarNav !== navItem.title,
                                'text-primary-contrast bg-primary hover:bg-primary-emphasis': selectedSampleAppsSidebarNav === navItem.title
                            }">
                            <i [class]="navItem.icon"></i>
                            <span [ngClass]="{
                                    hidden: isSlimMenu,
                                    'font-medium leading-8': !isSlimMenu
                                }">・</span>
                            <span [ngClass]="{
                                    hidden: isSlimMenu,
                                    'font-medium leading-none': !isSlimMenu
                                }">{{ navItem.title }}</span>
                        </div>
                    </div>
                </div>
                <!-- Sidebar Footer -->
                <div [ngClass]="{
                        'w-12 flex flex-col items-center': isSlimMenu,
                        'w-auto': !isSlimMenu
                    }">
                    <div class="mt-10 flex flex-col gap-2">
                        <div *ngIf="false" [pTooltip]="isSlimMenu ? 'Expanded Mode' : undefined"
                            class="px-4 py-1 flex items-center gap-1 cursor-pointer text-base rounded-lg transition-all select-none text-muted-color hover:bg-emphasis"
                            [ngClass]="{
                                'w-12 justify-center py-4': isSlimMenu,
                                'w-full': !isSlimMenu
                            }">
                            <a class="cursor-pointer block p-0 m-0 leading-none">
                                <a class="cursor-pointer block p-0 m-0 leading-none">
                                    <i [class]="isSlimMenu ? 'pi pi-window-maximize' : 'pi pi-window-minimize'"></i>
                                    <span [class]="isSlimMenu ? 'hidden' : 'font-medium leading-8'">・</span>
                                    <span [class]="isSlimMenu ? 'hidden' : 'font-medium leading-none'"> Slim Mode</span>
                                </a>
                            </a>
                        </div>
                        <div *ngFor="let navItem of sampleAppsSidebarNavsMore"
                            [pTooltip]="isSlimMenu ? navItem.title : null"
                            class="px-4 py-1 flex items-center gap-1 cursor-pointer text-base rounded-lg transition-all select-none"
                            (click)="handleMoreNavClick(navItem)"
                            [ngClass]="{
                                'w-12 justify-center py-4': isSlimMenu,
                                'w-full': !isSlimMenu,
                                'text-muted-color hover:bg-emphasis bg-transparent': selectedSampleAppsSidebarNav !== navItem.title,
                                'text-primary-contrast bg-primary hover:bg-primary-emphasis': selectedSampleAppsSidebarNav === navItem.title
                            }">
                            <i [class]="navItem.icon"></i>
                            <span [class]="isSlimMenu ? 'hidden' : 'font-medium leading-8'">・</span>
                            <span [class]="isSlimMenu ? 'hidden' : 'font-medium leading-none'">{{ navItem.title
                                }}</span>
                        </div>
                    </div>
                    <p-divider />
                    <div [class]="isSlimMenu ? 'justify-center' : ' gap-3'" class="flex items-center">
                        <p-avatar image="https://www.primefaces.org/cdn/primevue/images/landing/apps/main-avatar.png"
                            size="large" shape="circle" class="shrink-0" />
                        <div>
                            <div [class]="isSlimMenu ? 'hidden' : 'text-base font-medium text-color leading-5'">Robin
                                Jonas</div>
                            <div [class]="isSlimMenu ? 'hidden' : 'text-sm text-muted-color mt-1'">hi&#64;robin.xyz
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Main Content Section -->
            <div class="h-full overflow-y-auto pb-0.5">
                <router-outlet></router-outlet>
            </div>
        </div>
    </div>
</section>

    <app-generic-drawer [isOpen]="uiService.isDrawerOpen()" [contentTemplate]="uiService.drawerContent()" [header]="uiService.drawerHeader()">
    </app-generic-drawer>
  <p-toast [life]="2000" [breakpoints]="{
    '920px': { width: '50%' },
    '768px': { width: '60%' },
    '640px': { width: '70%' }, 
    '568px': { width: '80%' },
    '480px': { width: '90%' },
    '414px': { width: '80%' },
    '375px': { width: '80%' },
    '320px': { width: '80%' } 
    }"
/>

<ng-template #settingsContent>    
    <div class="flex flex-col items-center justify-center w-full px-4 md:px-6 lg:px-8">
        <!-- Avatar & User Info -->
        <p-avatar 
            image="https://www.primefaces.org/cdn/primevue/images/landing/apps/main-avatar.png" 
            styleClass="w-24 h-24 md:w-32 md:h-32" 
            size="xlarge" 
            shape="circle" 
        />
        <div class="text-lg md:text-xl font-medium text-color mt-4 text-center">Ritik Gupta</div>
        <div class="text-sm md:text-base text-muted-color mt-1 text-center">&#64;ritikgupta</div>

        <!-- Buttons (Responsive: Stacked on Mobile, Inline on Larger Screens) -->
        <div class="flex flex-wrap gap-2 mt-4 justify-center">
            <p-button icon="pi pi-phone text-muted-color" severity="secondary" text class="w-10 h-10 md:w-auto" />
            <p-button icon="pi pi-video text-muted-color" severity="secondary" text class="w-10 h-10 md:w-auto" />
            <p-button icon="pi pi-info-circle text-muted-color" severity="secondary" text class="w-10 h-10 md:w-auto" />
            <p-button (click)="handleLogOut()" icon="pi pi-sign-out" severity="danger" text class="w-10 h-10 md:w-auto" />
        </div>

        <!-- Select Button for General & Device Settings -->
        <div class="mt-6 w-full flex justify-center">
            <p-selectButton 
                [options]="settingsOptions" 
                [(ngModel)]="selectedSetting"
                optionLabel="label"
                dataKey="value"
                class="w-full sm:w-2/3 md:w-1/2 lg:w-1/3"
            />
        </div>

        <!-- Conditional Rendering of Components -->
        <div class="mt-4 w-full">
            @if(selectedSetting.value === 'general') {
                <ng-container>
                    <app-general></app-general>
                </ng-container>
                
            } 
            
            @if(selectedSetting.value === 'device') {
                <ng-container>
                    <app-device-configurations></app-device-configurations>
                </ng-container>
            }
        </div>
    </div>
</ng-template>

